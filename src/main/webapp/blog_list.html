<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>博客</title>
    <link rel="stylesheet" href="./css/public.css">
    <link rel="stylesheet" href="./css/blog_list.css">
    <script src=https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js></script> 
</head>
   
<body>
     <div class="nav">
         <img src="./image/2.jpg">
         <span>我的博客系统</span>
         <div class="cut"></div>
         <a href="blog_list.html">主页</a>
         <a href="blog_edit.html">写博客</a>
         <a href="#">注销</a>
     </div>
     <div class="container">
         <div class="left">
            <div class="card">
                <img src="./image/3.jpg">
                <h3>九公寓小龙</h3>
                <a href="#">github地址</a>
                <div class="counter">
                <span>文章</span>
                <span>分类</span>
            </div>
            <div class="counter">
                <span>2</span>
                <span>1</span>
            </div>
            </div>
         </div>
         <div class="right">
            <!--  <div class="blog">
            <h3>我的第一篇博客</h3>
            <div class="time">2022-6-4</div>
            <div class="text">今天开始写博客Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ipsam voluptate magnam perspiciatis odio doloribus, expedita saepe deleniti earum vero esse dolor sint? Atque rerum impedit ut perferendis tempora iusto mollitia.</div>
            <div><a href="blog_detail.html">查看全文&gt;&gt;</a></div>
        </div>
        <div class="blog">
            <h3>我的第二篇博客</h3>
            <div class="time">2022-6-4</div>
            <div class="text">今天开始写博客Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis aut magnam quas iure, hic dolorem vel quia eum ipsam quasi ipsa commodi doloremque eligendi cupiditate id natus. Quasi, distinctio perspiciatis.</div>
            <div><a href="#">查看全文&gt;&gt;</a></div>
        </div> -->
     </div>
     </div>
    
     <script>
     
      function getBlogList(){
        $.ajax({
            type:'get',
            url:'blog',
            success(body)
            {
                let rightDiv=document.querySelector('.right');
                rightDiv.innerHTML="";
                for(let blog of body)
                {
                    //创建blog
                    let  blogDiv=document.createElement('div');
                    blogDiv.className='blog';
                    //博客标题
                    let  titleDiv=document.createElement('div');
                    titleDiv.className='title';
                    titleDiv.innerHTML=blog.title;
                    blogDiv.appendChild(titleDiv);
                    //博客摘要
                    let descDiv=document.createElement('div');
                    descDiv.className='desc';
                    blogDiv.appendChild(descDiv);
                    descDiv.innerHTML=blog.content;
                    blogDiv.appendChild(descDiv);
                    //博客创建日期
                    let dateTime=document.createElement('div');
                    dateTime.innerHTML=blog.postTime;
                    dateTime.className='time';
                    blogDiv.appendChild(dateTime);
                    let a=document.createElement('a');
                    //a标签
                    a.innerHTML='查看全文 &gt;&gt';
                    //根据博客id来跳转
                    a.href='blog_detail.html?blogId='+blog.blogId;
                    blogDiv.appendChild(a);
                    rightDiv.appendChild(blogDiv);
                }
            },
            error(){
                alert('获取失败!');
            }
        });    
       }
       getBlogList();
     </script>

</body>
</html>